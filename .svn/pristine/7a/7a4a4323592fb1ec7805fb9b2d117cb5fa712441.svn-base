using AIPXiaoTong.IService;
using AIPXiaoTong.Model;
using AIPXiaoTong.Model.Site;
using Framework.Common;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;

namespace AIPXiaoTong.Site.Controllers
{
    public class InsertDataController : Controller
    {
        private IMemberService iMemberManagementService;
        private IOrderBookingService iOrderBookingService;
        private IOrderHousePaymentService iOrderHousePaymentService;
        private IOrderPaidService iOrderPaidService;
        private IAreaGuangDaService iAreaGuangDaService;

        public InsertDataController(IMemberService iMemberManagementService,
                                     IOrderBookingService iOrderBookingService,
                                     IOrderHousePaymentService iOrderHousePaymentService,
                                     IOrderPaidService iOrderPaidService,
                                     IAreaGuangDaService iAreaGuangDaService)
        {
            this.iMemberManagementService = iMemberManagementService;
            this.iOrderBookingService = iOrderBookingService;
            this.iOrderHousePaymentService = iOrderHousePaymentService;
            this.iOrderPaidService = iOrderPaidService;
            this.iAreaGuangDaService = iAreaGuangDaService;
        }

        public ActionResult area()
        {
            var model = new AreaGuangDaQM();

            var list = iAreaGuangDaService.GetListModel<AreaGuangDaLM, AreaGuangDaQM>();



            return View();
        }

        public ActionResult Member()
        {
            var entity = new Member();

            entity.Name = "翠花";
            entity.IDNumber = "121212121212121212";
            entity.Mobile = "15212154556";
            entity.Status = 1;
            entity.ProvinceCode = "13";
            entity.CityCode = "1301";
            entity.IDImageFront = @"\Images\ProjectImage\a08c05ba-a755-495b-bf3d-72e3c2e61297.jpg";
            entity.IDImageOpposite = @"\Images\ProjectImage\75ccc33c-2bca-4419-b643-45efb58df412.jpg";
            entity.Address = "河北省石家庄市三心小区6栋606";
            entity.ClientId = "d56081f632a40980";
            entity.EnName = "asdsa";
            entity.IdExpiredDate = DateTime.Now;
            entity.PostCode = "131313";
            entity.IsCreateAccount = 0;

            iMemberManagementService.Save(entity);
            iMemberManagementService.Commit();

            return View();
        }

        public ActionResult InsertOrderBooking()
        {
            var entity = new OrderBooking();

            entity.MerchantID = 1;
            entity.OrderNumber = "20180914141342493990";
            entity.ProjectID = 24;
            entity.EquipmentSNNo = "600047000102";
            entity.EmployeeID = 7;
            entity.MemberID = 2;
            entity.OrderTime = DateTime.Now;
            entity.Remark = "asdsadsadsa";

            iOrderBookingService.Save(entity);
            iOrderBookingService.Commit();

            return View();
        }

        public ActionResult OrderHousePayment()
        {
            decimal dec = 66;
            var entity = new OrderHousePayment();

            entity.MerchantID = 1;

            entity.OrderNumber = "20181107163729899799";
            entity.ProjectID = 24;
            entity.EquipmentSNNo = "600047000103";
            entity.EmployeeID = 7;
            entity.TransactionAmount = dec;
            entity.SerialNumber = "	111863250000001641";
            entity.MemberID = 2;
            entity.Status = 1;
            entity.PaymentStatus = 1;
            entity.PaymentType = 2;

            iOrderHousePaymentService.Save(entity);
            iOrderHousePaymentService.Commit();


            return View();
        }

        public ActionResult OrderPaid()
        {
            decimal dec = 76;
            var entity = new OrderPaid();

            entity.MerchantID = 1;

            entity.OrderNumber = "20181107163253195868";
          //  entity.HouseTypeShowID = 24;
            entity.EquipmentSNNo = "600047000103";
            entity.EmployeeID = 7;
            entity.TransactionAmount = dec;
            entity.SerialNumber = "	111863250000001641";
            entity.MemberID = 2;
            entity.Status = 1;
            entity.PaymentStatus = 0;
            entity.PaymentType = 2;

            entity.BankCardNumber = "123456789987654";
            entity.Remark = "a昂达三季度噶三季度撒";


            iOrderPaidService.Save(entity);
            iOrderPaidService.Commit();


            return View();
        }

        public ActionResult testimg()
        {
            var path = @"D:\VS Project\Program\AIPXiaoTong\AIPXiaoTong.Site\Images\a1.jpg";

            var source = ImageHelper.ToBase64(path);

            return View();

        }



    }
}