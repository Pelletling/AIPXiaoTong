using AIPXiaoTong.IService;
using AIPXiaoTong.Model;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.Mvc;

namespace AIPXiaoTong.Site.Controllers
{
    public class InsertDataController : Controller
    {
        private IMemberManagementService iMemberManagementService;
        private IOrderBookingService iOrderBookingService;
        private IOrderHousePaymentService iOrderHousePaymentService;
        private IOrderPaidService iOrderPaidService;

        public InsertDataController(IMemberManagementService iMemberManagementService,
                                     IOrderBookingService iOrderBookingService,
                                     IOrderHousePaymentService iOrderHousePaymentService,
                                     IOrderPaidService iOrderPaidService)
        {
            this.iMemberManagementService = iMemberManagementService;
            this.iOrderBookingService = iOrderBookingService;
            this.iOrderHousePaymentService = iOrderHousePaymentService;
            this.iOrderPaidService = iOrderPaidService;
        }

        public ActionResult InsertMember()
        {
            var entity = new Member();

            entity.Name = "翠花";
           // entity.IDNumber = "2312432423423423423";
            entity.Mobile = "15212154556";

            iMemberManagementService.Save(entity);
            iMemberManagementService.Commit();

            return View();
        }

        public ActionResult InsertOrderBooking()
        {
            var entity = new OrderBooking();

            entity.MerchantID =1;
            entity.OrderNumber = "20180914141342493990";
            entity.ProjectManagementID = 24;
            entity.EquipmentNumber = "600047000102";
            entity.EmployeeID = 7;
            entity.MemberID =2;
            entity.OrderTime = DateTime.Now;
            entity.Remark = "asdsadsadsa";

            iOrderBookingService.Save(entity);
            iOrderBookingService.Commit();

            return View();
        }

        public ActionResult OrderHousePayment()
        {
            decimal dec = 66;
            var entity = new OrderHousePayment();

            entity.MerchantID = 1;

            entity.OrderNumber = "20181107163729899799";
            entity.ProjectManagementID = 24;
            entity.EquipmentNumber = "600047000103";
            entity.EmployeeID = 7;
            entity.TransactionAmount = dec;
            entity.SerialNumber = "	111863250000001641";
            entity.MemberID = 2;
            entity.Status = 1;
            entity.PaymentStatus = 1;
            entity.PaymentType = 2;

            iOrderHousePaymentService.Save(entity);
            iOrderHousePaymentService.Commit();


            return View();
        }

        public ActionResult OrderPaid()
        {
            decimal dec = 76;
            var entity = new OrderPaid();

            entity.MerchantID = 1;

            entity.OrderNumber = "20181107163253195868";
            entity.ProjectManagementID = 24;
            entity.EquipmentNumber = "600047000103";
            entity.EmployeeID = 7;
            entity.TransactionAmount = dec;
            entity.SerialNumber = "	111863250000001641";
            entity.MemberID = 2;
            entity.Status = 1;
            entity.PaymentStatus = 0;
            entity.PaymentType = 2;

            entity.BankCardNumber = "123456789987654";
            entity.Remark = "a昂达三季度噶三季度撒";


            iOrderPaidService.Save(entity);
            iOrderPaidService.Commit();


            return View();
        }
    }
}